<!DOCTYPE html>
<html>
	<head>
		<title>memcpy.io | Android: Changing the bootanimation</title>
		<link rel="icon" type="image/png" href="/logo.png" />
		<link rel="stylesheet" type="text/css" href="/theme/css/fonts.css">
		<link rel="stylesheet" type="text/css" href="/theme/css/math.css">
        <link href="https://fonts.googleapis.com/css?family=Maven+Pro" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="/theme/css/page.css">
		<link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="memcpy.io atom feed" />
		<link href="/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="memcpy.io RSS feed" />
		<meta charset="utf-8">
		<meta name="robots" content="index,follow">
		<meta name="viewport" content="width=device-width, initial-scale=1"> <!-- TODO: is this still required in 2015? -->
		<meta name="description" content="There exists official documentation for how to create a custom boot animation, but unfortunately it is lacking in actual examples. So this guide is a bit more hands on. Structure of bootanimation.zip Without covering too much of the same gound as the documentation, let&#39;s have a quick look at what is in a simple bootanimation.zip. $ ls -la bootanimation total 28 drwxr-xr-x 4 hottuna hottuna 4096 Apr 19 22:39 . drwxr-xr-x 8 hottuna hottuna 4096 Apr 19 22:39 .. -rw-r--r-- 1 hottuna hottuna 92 Apr 19 15:21 desc.txt drwxr-xr-x 2 hottuna hottuna 4096 Apr 19 12:44 part0 drwxr-xr-x 2 hottuna hottuna 4096 Apr 19 12:45 part1 $ cat bootanimation/desc.txt 1920 1080 30 # WIDTH HEIGHT FPS c 5 15 part0 â€¦">
		<meta name="author" content="Robert Foss">
		<meta name="keywords" content="Robert Foss, Open Source, Software, Linux, Embedded, Engineer, android, aosp, bootanimation, boot, animation, collabora">
		<meta property="og:title" content="Android: Changing the bootanimation" />
		<meta property="og:type" content="article" />
		<meta property="og:url" content="https://memcpy.io/android-changing-the-bootanimation.html" />
		<meta property="og:locale" content="" />
		<meta property="og:site_name" content="memcpy.io" />
		<meta property="article:published_time" content="2017-04-20" />
		<meta property="article:section" content="aosp" />
		<meta property="article:tag" content="android" />
		<meta property="article:tag" content="aosp" />
		<meta property="article:tag" content="bootanimation" />
		<meta property="article:tag" content="boot" />
		<meta property="article:tag" content="animation" />
		<meta property="article:tag" content="collabora" />
	</head>
	<body>
		<article id="content" itemscope>
			<header>
				<h1>Android: Changing the bootanimation</h1>
				<p>
				Published <time datetime="2017-04-20" itemprop="datePublished">2017-04-20</time>
				</p>
			</header>
			<p>For various reasons you might want to change the Android boot animation to something other than the stock one, this is how you do it.</p>
			<p>There exists <a href="https://android.googlesource.com/platform/frameworks/base/+/master/cmds/bootanimation/FORMAT.md">official documentation</a>
for how to create a custom boot animation, but unfortunately it is lacking
in actual examples.</p>
<p>So this guide is a bit more hands on.</p>
<h2>Structure of bootanimation.zip</h2>
<p>Without covering too much of the same gound as the documentation,
let's have a quick look at what is in a simple bootanimation.zip.</p>
<div class="highlight"><pre><span></span>$ ls -la bootanimation
total <span class="m">28</span>
drwxr-xr-x <span class="m">4</span> hottuna hottuna <span class="m">4096</span> Apr <span class="m">19</span> <span class="m">22</span>:39 .
drwxr-xr-x <span class="m">8</span> hottuna hottuna <span class="m">4096</span> Apr <span class="m">19</span> <span class="m">22</span>:39 ..
-rw-r--r-- <span class="m">1</span> hottuna hottuna   <span class="m">92</span> Apr <span class="m">19</span> <span class="m">15</span>:21 desc.txt
drwxr-xr-x <span class="m">2</span> hottuna hottuna <span class="m">4096</span> Apr <span class="m">19</span> <span class="m">12</span>:44 part0
drwxr-xr-x <span class="m">2</span> hottuna hottuna <span class="m">4096</span> Apr <span class="m">19</span> <span class="m">12</span>:45 part1

$ cat bootanimation/desc.txt 
<span class="m">1920</span> <span class="m">1080</span> <span class="m">30</span>         <span class="c1"># WIDTH HEIGHT FPS</span>
c <span class="m">5</span> <span class="m">15</span> part0 FFFFFF  <span class="c1"># TYPE COUNT PAUSE PATH [#RGBHEX] [CLOCK]</span>
c <span class="m">5</span> <span class="m">15</span> part1 FFFFFF  <span class="c1"># TYPE COUNT PAUSE PATH [#RGBHEX] [CLOCK]</span>

ls -la bootanimation/part0 
total <span class="m">28</span>
drwxr-xr-x <span class="m">2</span> hottuna hottuna  <span class="m">4096</span> Apr <span class="m">19</span> <span class="m">12</span>:44 .
drwxr-xr-x <span class="m">6</span> hottuna hottuna  <span class="m">4096</span> Apr <span class="m">19</span> <span class="m">15</span>:40 ..
-rw-r--r-- <span class="m">1</span> hottuna hottuna <span class="m">10688</span> Apr <span class="m">19</span> <span class="m">12</span>:31 <span class="m">0000</span>.png
-rw-r--r-- <span class="m">1</span> hottuna hottuna <span class="m">10688</span> Apr <span class="m">19</span> <span class="m">12</span>:31 <span class="m">0001</span>.png
-rw-r--r-- <span class="m">1</span> hottuna hottuna <span class="m">10688</span> Apr <span class="m">19</span> <span class="m">12</span>:31 <span class="m">0002</span>.png
-rw-r--r-- <span class="m">1</span> hottuna hottuna <span class="m">10688</span> Apr <span class="m">19</span> <span class="m">12</span>:31 <span class="m">0003</span>.png
-rw-r--r-- <span class="m">1</span> hottuna hottuna <span class="m">10688</span> Apr <span class="m">19</span> <span class="m">12</span>:31 XXXX.png
</pre></div>


<p>Note that the "#" comments are mine and not actually present in the files.</p>
<p>An important thing to note with the zip file is needs to have compression
turned off.</p>
<h2>Switch bootanimation</h2>
<p>Download <a href="/files/2017-04-20/bootanimation.zip">bootanimation.zip</a>.</p>
<div class="highlight"><pre><span></span>unzip bootanimation.zip
cd bootanimation
# Edit desc.txt and partN folders to your needs
zip -0qry -i \*.txt \*.png \*.wav @ ../bootanimation.zip *.txt part*

# Option 1, use adb to send bootanimation.zip
adb root
adb remount
adb push bootanimation.zip /system/media/bootanimation.zip

# Option 2, bake bootanimation.zip into your AOSP build
cp bootanimation.zip /opt/aosp/out/target/product/linaro_arm/system/bootanimation.zip
./your_favorite_buildscript_here.sh
</pre></div>


<h2>References</h2>
<p><a href="https://android.googlesource.com/platform/frameworks/base/+/master/cmds/bootanimation/FORMAT.md">bootanimation documentation</a></p>
<h2>Thanks</h2>
<p>This post has been a part of work undertaken by my employer <a href="http://www.collabora.com">Collabora</a>.</p>
		</article>
		<section id="teaser-section">
			<div id="teaser">
				<p>Tags:
					<a href="./tag/android.html">android </a>
					<span id="breakdot">&middot; </span>
					<a href="./tag/aosp.html">aosp </a>
					<span id="breakdot">&middot; </span>
					<a href="./tag/bootanimation.html">bootanimation </a>
					<span id="breakdot">&middot; </span>
					<a href="./tag/boot.html">boot </a>
					<span id="breakdot">&middot; </span>
					<a href="./tag/animation.html">animation </a>
					<span id="breakdot">&middot; </span>
					<a href="./tag/collabora.html">collabora </a>
				</p>
			</div>
		</section>
		<footer>
			<div id="footer">
				<p id="notices" class="smcp">
					<a href="/about.html">About</a>
					<span id="breakdot">&middot;</span>
					<a href="/index.html">Blog</a>
					<span id="breakdot">&middot;</span>
					<a href="/talks.html">Talks</a>
					<span id="breakdot">&middot;</span>
					<a href="/contact.html">Contact</a>
					<span id="breakdot">&middot;</span>
					<a href="https://github.com/robertfoss">GitHub</a>
					<br>
					<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Copyleft</a>
					<span id="breakdot">&middot;</span>
					2018 Robert Foss
					<span id="breakdot">&middot;</span>
					<a href="https://github.com/robertfoss/memcpy.io">Source</a>
					<br>
					<a href="/"><img src="/logo.png"></a>
				</p>
			</div>
		</footer>
	</body>
</html>