<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="./theme/css/style.css">
	<!--<link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">-->
	<!--<script src="/theme/js/less.js" type="text/javascript"></script>-->
	<link rel="stylesheet" type="text/css" href="./theme/css/pygments.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>
	<link rel="icon" type="image/png" href="favicon.png" />

	<link href="http://memcpy.io/" type="application/atom+xml" rel="alternate" title="memcpy.io ATOM Feed" />

    <meta property="og:title" content="Building NodeMCU for the ESP8266" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="http://memcpy.io/images/2015-05-14_esp8266.jpg" />
    <meta property="og:url" content="http://memcpy.io/building-nodemcu-for-the-esp8266.html" />
    <meta property="og:description" content="This is a simple step-by-step guide to building and flashing NodeMCU for the ESP8266. Build ESP8266 SDK sudo apt-get install make unrar autoconf automake libtool gcc g++ gperf flex bison texinfo gawk ncurses-dev libexpat-dev python sed cd /opt git clone https://github.com/pfalcon/esp-open-sdk.git cd esp-open-sdk git submodule sync git submodule update make export PATH=/opt/esp-open-sdk/xtensa-lx106-elf/bin:$PATH Build NodeMCU git clone https://github.com/nodemcu/nodemcu-firmware.git cd nodemcu-firmware # Switch to dev branch, since it&#39;s the most up to date git checkout --track origin/dev # Make INTEGER version, since it uses less memory/space make EXTRA_CCFLAGS=&#34;-DLUA_NUMBER_INTEGRAL&#34; Flash NodeMCU COMPORT=/dev/ttyUSB0 make flash Modifying NodeMCU to fit your needs app/include/user_modules.h Contains a list of which ..." />
    <meta property="og:locale" content="" />
    <meta property="og:site_name" content="memcpy.io" />
    <meta property="article:published_time" content="2015-05-14" />
    <meta property="article:section" content="ESP8266" />
    <meta property="article:tag" content="NodeMCU" />
    <meta property="article:tag" content="ESP8266" />

	<title>memcpy.io | Building NodeMCU for the ESP8266</title>
	<meta charset="utf-8" />
</head>
<body>
	<section id="sidebar">
		<div id="menu">
			<a href="/">
				<img type="image/png" src="./logo.png" width="155">
			</a>

			<h2>Projects, hacks and engineering</h2>
			<ul>
					<li><a href="about-me.html">About me</a></li>
					<li><a href="contracting.html">Contracting</a></li>
					<li><a href="https://github.com/robertfoss">GitHub</a></li>
					<li><a href="archives.html">Previous posts</a></li>
			</ul>
		</div>
	</section>

	<section id="posts">
	<article class="single">
		<h1 id="title">
			<a href="./building-nodemcu-for-the-esp8266.html" rel="bookmark"
				title="Permalink to Building NodeMCU for the ESP8266">Building NodeMCU for the ESP8266</a>
		</h1>
		<abbr class="published" title="2015-05-14T11:31:00+02:00">Thu 14 May 2015</abbr>
		<p><img alt="Alt text" src="images/2015-05-14_esp8266.jpg" title="ESP8266" /></p>
<p>This is a simple step-by-step guide to building and flashing NodeMCU for the ESP8266.</p>
<h3>Build ESP8266 SDK</h3>
<div class="highlight"><pre><span class="x">sudo apt-get install make unrar autoconf automake libtool gcc g++ gperf flex bison texinfo gawk ncurses-dev libexpat-dev python sed</span>
<span class="x">cd /opt</span>
<span class="x">git clone https://github.com/pfalcon/esp-open-sdk.git</span>
<span class="x">cd esp-open-sdk</span>
<span class="x">git submodule sync</span>
<span class="x">git submodule update</span>
<span class="x">make</span>
<span class="x">export PATH=/opt/esp-open-sdk/xtensa-lx106-elf/bin:</span><span class="p">$</span><span class="nv">PATH</span><span class="x"></span>
</pre></div>


<h3>Build NodeMCU</h3>
<div class="highlight"><pre>git clone https://github.com/nodemcu/nodemcu-firmware.git
cd nodemcu-firmware
# Switch to dev branch, since it&#39;s the most up to date
git checkout --track origin/dev
# Make INTEGER version, since it uses less memory/space
make EXTRA_CCFLAGS=&quot;-DLUA_NUMBER_INTEGRAL&quot;
</pre></div>


<h3>Flash NodeMCU</h3>
<div class="highlight"><pre>COMPORT=/dev/ttyUSB0 make flash
</pre></div>


<h3>Modifying NodeMCU to fit your needs</h3>
<h5>app/include/user_modules.h</h5>
<p>Contains a list of which modules to include in the build.</p>
<div class="highlight"><pre>...
#define LUA_USE_MODULES_NODE
#define LUA_USE_MODULES_FILE
#define LUA_USE_MODULES_GPIO
#define LUA_USE_MODULES_WIFI
#define LUA_USE_MODULES_NET
...
</pre></div>


<h5>app/include/user_config.h</h5>
<p>Contains NodeMCU developer options, but could be of use.</p>
<div class="highlight"><pre>...
#define DEVELOP_VERSION
#define NODE_ERROR
...
</pre></div>

		<div id="article_meta">
				Category:
					<a href="./category/esp8266.html">ESP8266</a>
				<br />Tags:
					<a href="./tag/nodemcu.html">NodeMCU</a>
					<a href="./tag/esp8266.html">ESP8266</a>
		</div>
	</article>

	<footer>
		<a href="./" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;Back to blog</a>
	</footer>


	</section>

</body>
</html>