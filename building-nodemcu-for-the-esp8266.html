<!DOCTYPE html>
<html>
	<head>
		<title>memcpy.io | Building NodeMCU for the ESP8266</title>
		<script src="https://cdn.nocodeflow.net/tools/geoblock.js"></script>
		<link rel="icon" type="image/png" href="/favicon.png" />
		<link rel="stylesheet" type="text/css" href="/theme/css/fonts.css">
		<link rel="stylesheet" type="text/css" href="/theme/css/math.css">
		<link href="https://fonts.googleapis.com/css?family=Maven+Pro" rel="stylesheet">
		<link rel="canonical" href="https://memcpy.io/building-nodemcu-for-the-esp8266.html">
		<link rel="stylesheet" type="text/css" href="/theme/css/page.css">
		<link href="https://memcpy.io/feeds/all.rss.xml" type="application/atom+xml" rel="alternate" title="memcpy.io ATOM Feed" />
		<link href="https://memcpy.io/feeds/all.atom.xml" type="application/rss+xml" rel="alternate" title="memcpy.io RSS Feed" />
		<meta name="google-site-verification" content="M7TRHJxGB04WWoywNbib8VC7rcbyjs7aMI2Bnkh6XqA" />
		<meta charset="utf-8">
		<meta name="robots" content="index,follow">
		<meta name="viewport" content="width=device-width, initial-scale=1"> <!-- TODO: is this still required in 2015? -->
		<meta name="description" content="This is a simple step-by-step guide to building and flashing NodeMCU for the ESP8266. Build ESP8266 SDK sudo apt-get install make unrar autoconf automake libtool gcc g++ gperf flex bison texinfo gawk ncurses-dev libexpat-dev python sed cd /opt git clone https://github.com/pfalcon/esp-open-sdk.git cd esp-open-sdk git submodule sync git submodule update make export PATH=/opt/esp-open-sdk/xtensa-lx106-elf/bin:$PATH Build NodeMCU git clone https://github.com/nodemcu/nodemcu-firmware.git cd nodemcu-firmware # Switch to dev branch, since it&#39;s the most up to date git checkout --track origin/dev # Make INTEGER version, since it uses less memory/space make EXTRA_CCFLAGS=&#34;-DLUA_NUMBER_INTEGRAL&#34; Flash NodeMCU COMPORT=/dev/ttyUSB0 make flash Modifying NodeMCU to fit â€¦">
		<meta name="author" content="Robert Foss">
		<meta name="keywords" content="Robert Foss memcpy Robert Foss, Open Source, Software, Linux, Kernel, Embedded, Engineer, NodeMCU, ESP8266">
		<meta property="og:title" content="Building NodeMCU for the ESP8266" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://memcpy.io/images/2015-05-14_esp8266.jpg" />
		<meta property="og:url" content="https://memcpy.io/building-nodemcu-for-the-esp8266.html" />
		<meta property="og:locale" content="" />
		<meta property="og:site_name" content="memcpy.io" />
		<meta property="article:published_time" content="2015-05-14" />
		<meta property="article:section" content="ESP8266" />
		<meta property="article:tag" content="NodeMCU" />
		<meta property="article:tag" content="ESP8266" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:creator" content="@memcpy_io" />
		<meta name="twitter:site" content="@memcpy_io" />
		<meta name="twitter:title" content="Building NodeMCU for the ESP8266" />
		<meta name="twitter:description" content="This is a simple hands-on guide to building NodeMCU and flashing it onto a raw ESP8266-01 module." />
		<meta name="twitter:image" content="https://memcpy.io/images/2015-05-14_esp8266.jpg" />
	</head>
	<body>
		<article id="content" itemscope>
			<header>
				<h1>Building NodeMCU for the ESP8266</h1>
				<p>
				Published <time datetime="2015-05-14" itemprop="datePublished">2015-05-14</time>
				</p>
			</header>
			<p>This is a simple hands-on guide to building NodeMCU and flashing it onto a raw ESP8266-01 module.</p>
			<p><img alt="Alt text" src="/images/2015-05-14_esp8266.jpg" title="ESP8266"></p>
<p>This is a simple step-by-step guide to building and flashing NodeMCU for the ESP8266.</p>
<h3>Build ESP8266 SDK</h3>
<div class="highlight"><pre><span></span><code><span class="n">sudo</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">unrar</span><span class="w"> </span><span class="n">autoconf</span><span class="w"> </span><span class="n">automake</span><span class="w"> </span><span class="n">libtool</span><span class="w"> </span><span class="n">gcc</span><span class="w"> </span><span class="n">g</span><span class="o">++</span><span class="w"> </span><span class="n">gperf</span><span class="w"> </span><span class="n">flex</span><span class="w"> </span><span class="n">bison</span><span class="w"> </span><span class="n">texinfo</span><span class="w"> </span><span class="n">gawk</span><span class="w"> </span><span class="n">ncurses</span><span class="o">-</span><span class="n">dev</span><span class="w"> </span><span class="n">libexpat</span><span class="o">-</span><span class="n">dev</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="n">sed</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">opt</span>
<span class="n">git</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">pfalcon</span><span class="o">/</span><span class="n">esp</span><span class="o">-</span><span class="n">open</span><span class="o">-</span><span class="n">sdk</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span><span class="w"> </span><span class="n">esp</span><span class="o">-</span><span class="n">open</span><span class="o">-</span><span class="n">sdk</span>
<span class="n">git</span><span class="w"> </span><span class="n">submodule</span><span class="w"> </span><span class="n">sync</span>
<span class="n">git</span><span class="w"> </span><span class="n">submodule</span><span class="w"> </span><span class="n">update</span>
<span class="n">make</span>
<span class="k">export</span><span class="w"> </span><span class="n">PATH</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">esp</span><span class="o">-</span><span class="n">open</span><span class="o">-</span><span class="n">sdk</span><span class="o">/</span><span class="n">xtensa</span><span class="o">-</span><span class="n">lx106</span><span class="o">-</span><span class="n">elf</span><span class="o">/</span><span class="n">bin</span><span class="p">:</span><span class="o">$</span><span class="n">PATH</span>
</code></pre></div>

<h3>Build NodeMCU</h3>
<div class="highlight"><pre><span></span><code>git clone https://github.com/nodemcu/nodemcu-firmware.git
cd nodemcu-firmware
<span class="gh">#</span> Switch to dev branch, since it&#39;s the most up to date
git checkout --track origin/dev
<span class="gh">#</span> Make INTEGER version, since it uses less memory/space
make EXTRA_CCFLAGS=&quot;-DLUA_NUMBER_INTEGRAL&quot;
</code></pre></div>

<h3>Flash NodeMCU</h3>
<div class="highlight"><pre><span></span><code>COMPORT=/dev/ttyUSB0 make flash
</code></pre></div>

<h3>Modifying NodeMCU to fit your needs</h3>
<h5>app/include/user_modules.h</h5>
<p>Contains a list of which modules to include in the build.</p>
<div class="highlight"><pre><span></span><code>...
<span class="gh">#</span>define LUA_USE_MODULES_NODE
<span class="gh">#</span>define LUA_USE_MODULES_FILE
<span class="gh">#</span>define LUA_USE_MODULES_GPIO
<span class="gh">#</span>define LUA_USE_MODULES_WIFI
<span class="gh">#</span>define LUA_USE_MODULES_NET
...
</code></pre></div>

<h5>app/include/user_config.h</h5>
<p>Contains NodeMCU developer options, but could be of use.</p>
<div class="highlight"><pre><span></span><code>...
<span class="gh">#</span>define DEVELOP_VERSION
<span class="gh">#</span>define NODE_ERROR
...
</code></pre></div>
		</article>
		<section id="teaser-section">
			<div id="teaser">
				<p>Tags:
					<a href="https://memcpy.io/tag/nodemcu.html">NodeMCU </a>
					<span id="breakdot">&middot; </span>
					<a href="https://memcpy.io/tag/esp8266.html">ESP8266 </a>
				</p>
			</div>
		</section>
		<footer>
			<div id="footer">
				<p id="notices" class="smcp">
					<a href="/about.html">About</a>
					<span id="breakdot">&middot;</span>
					<a href="/index.html">Blog</a>
					<span id="breakdot">&middot;</span>
					<a href="/talks.html">Talks</a>
					<span id="breakdot">&middot;</span>
					<a href="/contact.html">Contact</a>
					<span id="breakdot">&middot;</span>
					<a href="https://github.com/robertfoss">GitHub</a>
					<br>
					<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Copyleft</a>
					<span id="breakdot">&middot;</span>
					2024 Robert Foss
					<span id="breakdot">&middot;</span>
					<a href="https://github.com/robertfoss/memcpy.io">Source</a>
					<br>
					<a href="/"><img src="/logo.svg"></a>
				</p>
			</div>
		</footer>
	</body>
</html>