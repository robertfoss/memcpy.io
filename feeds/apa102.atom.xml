<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>memcpy.io - apa102</title><link href="https://memcpy.io/" rel="alternate"></link><link href="https://memcpy.io/feeds/apa102.atom.xml" rel="self"></link><id>https://memcpy.io/</id><updated>2018-02-20T22:26:00+01:00</updated><entry><title>APA102 LED Current Usage</title><link href="https://memcpy.io/apa102-led-current-usage.html" rel="alternate"></link><published>2018-02-20T22:26:00+01:00</published><updated>2018-02-20T22:26:00+01:00</updated><author><name>Robert Foss</name></author><id>tag:memcpy.io,2018-02-20:/apa102-led-current-usage.html</id><summary type="html">&lt;p&gt;&lt;a href="/images/2018-02-20_apa102_2020_quiescent_current.png"&gt;&lt;img alt="Alt text" src="/images/2018-02-20_apa102_2020_quiescent_current.png" title="APA102 LED Quiescent Current Diagram"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;What we're seeing here is a the LED being fully off (albeit with floating clock and data inputs), drawing somewhere between 0.7-1 mA.&lt;/p&gt;
&lt;p&gt;I was quite surprised to see such a high quiescent current.&lt;/p&gt;
&lt;p&gt;For the APA102 2020 which has a 20x20mm footprint this is somewhat disappointing, not because it is worse than the normal 50x50 APA102 variants, but rather because the small footprint begs for the IC to be used in wearables and other power consumption sensitive applications.&lt;/p&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;p&gt;So this is the very simple setup I was using. It's nothing fancy; a multimeter
set to the mA range, connected between the power supply and the APA102 breakout board I happened to have laying around.&lt;/p&gt;
&lt;p&gt;&lt;a href="/images/2018-02-20_setup.jpg"&gt;&lt;img alt="Alt text" src="/images/2018-02-20_setup.jpg" title="APA102 LED Quiescent Current Diagram"&gt;
&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="/images/2018-02-20_apa102_2020_quiescent_current.png"&gt;&lt;img alt="Alt text" src="/images/2018-02-20_apa102_2020_quiescent_current.png" title="APA102 LED Quiescent Current Diagram"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;What we're seeing here is a the LED being fully off (albeit with floating clock and data inputs), drawing somewhere between 0.7-1 mA.&lt;/p&gt;
&lt;p&gt;I was quite surprised to see such a high quiescent current.&lt;/p&gt;
&lt;p&gt;For the APA102 2020 which has a 20x20mm footprint this is somewhat disappointing, not because it is worse than the normal 50x50 APA102 variants, but rather because the small footprint begs for the IC to be used in wearables and other power consumption sensitive applications.&lt;/p&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;p&gt;So this is the very simple setup I was using. It's nothing fancy; a multimeter
set to the mA range, connected between the power supply and the APA102 breakout board I happened to have laying around.&lt;/p&gt;
&lt;p&gt;&lt;a href="/images/2018-02-20_setup.jpg"&gt;&lt;img alt="Alt text" src="/images/2018-02-20_setup.jpg" title="APA102 LED Quiescent Current Diagram"&gt;
&lt;/a&gt;&lt;/p&gt;</content><category term="apa102"></category><category term="2020"></category><category term="led"></category><category term="power"></category><category term="usage"></category><category term="current"></category><category term="quiescent"></category></entry><entry><title>ESP8266 APA102 Bulb</title><link href="https://memcpy.io/esp8266-apa102-bulb.html" rel="alternate"></link><published>2016-02-07T22:46:00+01:00</published><updated>2016-02-07T22:46:00+01:00</updated><author><name>Robert Foss</name></author><id>tag:memcpy.io,2016-02-07:/esp8266-apa102-bulb.html</id><summary type="html">&lt;p&gt;&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v2_running.jpg" title="v2: Assembled and running over WiFi"&gt;&lt;/p&gt;
&lt;p&gt;The product of this project is a WiFi connected LED bulb. Every LED on this bulb is individually programmable over the WiFi, by simply sending UDP packets to the bulb.&lt;/p&gt;
&lt;h2&gt;Software and hardware sources&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/robertfoss/esp8266_apa102_bulb.git
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="https://github.com/robertfoss/esp8266_apa102_bulb"&gt;This project&lt;/a&gt; consists of 3 parts: the software running on the led bulb, the software running on some host computer and the hardware.&lt;/p&gt;
&lt;h3&gt;Firmware&lt;/h3&gt;
&lt;p&gt;The firmare is based on the &lt;a href="https://github.com/nodemcu/nodemcu-firmware"&gt;NodeMCU&lt;/a&gt; firwmare for the ESP8266. It's running the APA102 LED driver and the enduser setup module, which I've written about &lt;a href="../user-friendly-setup-of-esp8266-gadgets.html"&gt;previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Additionally it's running 3 lua scripts that deal with different aspects.&lt;/p&gt;
&lt;p&gt;There's init.lua which makes sure we're connected to a WiFi.&lt;/p&gt;
&lt;p&gt;udp_listener.lua receives UDP packets and then sends forwards that â€¦&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v2_running.jpg" title="v2: Assembled and running over WiFi"&gt;&lt;/p&gt;
&lt;p&gt;The product of this project is a WiFi connected LED bulb. Every LED on this bulb is individually programmable over the WiFi, by simply sending UDP packets to the bulb.&lt;/p&gt;
&lt;h2&gt;Software and hardware sources&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/robertfoss/esp8266_apa102_bulb.git
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="https://github.com/robertfoss/esp8266_apa102_bulb"&gt;This project&lt;/a&gt; consists of 3 parts: the software running on the led bulb, the software running on some host computer and the hardware.&lt;/p&gt;
&lt;h3&gt;Firmware&lt;/h3&gt;
&lt;p&gt;The firmare is based on the &lt;a href="https://github.com/nodemcu/nodemcu-firmware"&gt;NodeMCU&lt;/a&gt; firwmare for the ESP8266. It's running the APA102 LED driver and the enduser setup module, which I've written about &lt;a href="../user-friendly-setup-of-esp8266-gadgets.html"&gt;previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Additionally it's running 3 lua scripts that deal with different aspects.&lt;/p&gt;
&lt;p&gt;There's init.lua which makes sure we're connected to a WiFi.&lt;/p&gt;
&lt;p&gt;udp_listener.lua receives UDP packets and then sends forwards that data to the APA102 strips.&lt;/p&gt;
&lt;p&gt;And lastly udb_broadcast.lua which periodically broadcasts a heartbeat for this LED bulb to signal that it is alive and well.&lt;/p&gt;
&lt;h3&gt;Host application&lt;/h3&gt;
&lt;p&gt;The current (as of the publish date of this post) incarnation of the host application listens for bulbs that are alive on the hosts network. If a bulb is found is will be added to the list of bulbs to be animated. All animations are simple and sinusoidal and only use the time a bulb has been 'alive' as an input for the animation.&lt;/p&gt;
&lt;h3&gt;Hardware&lt;/h3&gt;
&lt;p&gt;The hardware is based around the ESP8266 WiFi IC and the APA102 SPI LED IC.&lt;/p&gt;
&lt;p&gt;The flavor of ESP8266 used in this project is the ESP12-F module, since it the latest module available with the integrated antenna form factor.&lt;/p&gt;
&lt;p&gt;APA102 was chosen instead of the much more common WS2812B chip, since it uses a SPI like protocol which isn't timing sensitive and also does not require external capacitors at next to each LED.&lt;/p&gt;
&lt;h4&gt;v3.1 Schematic&lt;/h4&gt;
&lt;p&gt;&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v3.1_schematic.png" title="v3.1: Schematic"&gt;&lt;/p&gt;
&lt;h4&gt;v2 3D Model&lt;/h4&gt;
&lt;p&gt;&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v2_3d_model.png" title="v2: 3D model"&gt;&lt;/p&gt;
&lt;h4&gt;Assembled v2 hardware&lt;/h4&gt;
&lt;p&gt;&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v2_95pct_assembled.jpg" title="v2: 95% assembled"&gt;
&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v2_running.jpg" title="v2: Assembled and running over WiFi"&gt;
&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v2_hanging.jpg" title="v2: Hanging and running over WiFi"&gt;&lt;/p&gt;</content><category term="ESP8266"></category><category term="APA102"></category><category term="LED"></category><category term="WIFI"></category></entry></feed>