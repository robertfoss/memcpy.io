<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>memcpy.io - led</title><link>https://memcpy.io/</link><description></description><lastBuildDate>Fri, 22 Jun 2018 12:26:00 +0200</lastBuildDate><item><title>Twistyplexing: A Charlieplexing variety</title><link>https://memcpy.io/twistyplexing-a-charlieplexing-variety.html</link><description>&lt;p&gt;&lt;a href="/images/2018-06-22_twistyplexing.png"&gt;&lt;img alt="Alt text" src="/images/2018-06-22_twistyplexing.png" title="A 42 LED, N == 7 Twistyplexing layout"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The above layout has N = 7, yielding 42 LEDs.&lt;/p&gt;
&lt;p&gt;Apart from the symmetry being visually pleasing compared to the normal
row &amp;amp; column Charlieplexing layouts, it's relatively easy to spot errors
in the schematic.&lt;/p&gt;
&lt;h2&gt;Avoiding lookup tables&lt;/h2&gt;
&lt;p&gt;The major advantage of twistyplexing is the ability to avoid lookup tables
and replace them with some relatively straight forward arithmetic.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;row = led_number / (N - 1)
column = led_number % (N - 1)
anode = (row + column + 1) % N
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Of course the cathode still has to be controlled, but its pin id already
defined by the &lt;strong&gt;row&lt;/strong&gt; variable above.&lt;/p&gt;
&lt;h2&gt;Thanks&lt;/h2&gt;
&lt;p&gt;The Twistyplexing concept was created by Tom Yu, and defined in &lt;a href="https://argonblue.wordpress.com/2012/06/30/twistyplexing-a-new-topology-for-led-multiplexing/"&gt;this&lt;/a&gt; blog post.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Robert Foss</dc:creator><pubDate>Fri, 22 Jun 2018 12:26:00 +0200</pubDate><guid isPermaLink="false">tag:memcpy.io,2018-06-22:/twistyplexing-a-charlieplexing-variety.html</guid><category>leds</category><category>twistyplexing</category><category>charlieplexing</category><category>multiplexing</category><category>led</category><category>leds</category></item><item><title>APA102 1515 LEDs</title><link>https://memcpy.io/apa102-1515-leds.html</link><description>&lt;p&gt;The quiescent current of the APA102 2020 LEDs is about 0.7-1.0mA. Which is rather
high for some usecases. But recently some new option have been made available.&lt;/p&gt;
&lt;p&gt;The APA102 1515 and the APA104 1515, both of which come in a 1.5x1.5mm package.
Additionally the APA104 1515 IC has a quiescent current of 0.3mA, which is good
step in the right direction.&lt;/p&gt;
&lt;p&gt;&lt;a href="/files/2018-06-04/apa102-1515.pdf"&gt;APA102 1515 datasheet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="/files/2018-06-04/apa104-1515.pdf"&gt;APA104 1515 datasheet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Unfortunately only the APA104 datasheet specifies quiescent current, so the
quiescent current of the APA102 15155 is still an unknown.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Robert Foss</dc:creator><pubDate>Mon, 04 Jun 2018 22:26:00 +0200</pubDate><guid isPermaLink="false">tag:memcpy.io,2018-06-04:/apa102-1515-leds.html</guid><category>apa102</category><category>apa102</category><category>apa104</category><category>apa</category><category>102</category><category>104</category><category>2020</category><category>1515</category><category>led</category><category>power</category><category>usage</category><category>current</category><category>quiescent</category></item><item><title>APA102 LED Current Usage</title><link>https://memcpy.io/apa102-led-current-usage.html</link><description>&lt;p&gt;&lt;a href="/images/2018-02-20_apa102_2020_quiescent_current.png"&gt;&lt;img alt="Alt text" src="/images/2018-02-20_apa102_2020_quiescent_current.png" title="APA102 LED Quiescent Current Diagram"&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;What we're seeing here is a the LED being fully off (albeit with floating clock and data inputs), drawing somewhere between 0.7-1 mA.&lt;/p&gt;
&lt;p&gt;I was quite surprised to see such a high quiescent current.&lt;/p&gt;
&lt;p&gt;For the APA102 2020 which has a 20x20mm footprint this is somewhat disappointing, not because it is worse than the normal 50x50 APA102 variants, but rather because the small footprint begs for the IC to be used in wearables and other power consumption sensitive applications.&lt;/p&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;p&gt;So this is the very simple setup I was using. It's nothing fancy; a multimeter
set to the mA range, connected between the power supply and the APA102 breakout board I happened to have laying around.&lt;/p&gt;
&lt;p&gt;&lt;a href="/images/2018-02-20_setup.jpg"&gt;&lt;img alt="Alt text" src="/images/2018-02-20_setup.jpg" title="APA102 LED Quiescent Current Diagram"&gt;
&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Robert Foss</dc:creator><pubDate>Tue, 20 Feb 2018 22:26:00 +0100</pubDate><guid isPermaLink="false">tag:memcpy.io,2018-02-20:/apa102-led-current-usage.html</guid><category>apa102</category><category>apa102</category><category>2020</category><category>led</category><category>power</category><category>usage</category><category>current</category><category>quiescent</category></item><item><title>ESP8266 APA102 Bulb</title><link>https://memcpy.io/esp8266-apa102-bulb.html</link><description>&lt;p&gt;&lt;img alt="Alt text" src="https://github.com/robertfoss/esp8266_apa102_bulb/raw/media/v2_running.jpg" title="v2: Assembled and running over WiFi"&gt;&lt;/p&gt;
&lt;p&gt;The product of this project is a WiFi connected LED bulb. Every LED on this bulb is individually programmable over the WiFi, by simply sending UDP packets to the bulb.&lt;/p&gt;
&lt;h2&gt;Software and hardware sources&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;git clone https://github.com/robertfoss/esp8266_apa102_bulb.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="https://github.com/robertfoss/esp8266_apa102_bulb"&gt;This project&lt;/a&gt; consists of 3 parts: the software running on the led bulb, the software running on some host computer and the hardware.&lt;/p&gt;
&lt;h3&gt;Firmware&lt;/h3&gt;
&lt;p&gt;The firmare is based on the &lt;a href="https://github.com/nodemcu/nodemcu-firmware"&gt;NodeMCU&lt;/a&gt; firwmare for the ESP8266. It's running the APA102 LED driver and the enduser setup module, which I've written about &lt;a href="../user-friendly-setup-of-esp8266-gadgets.html"&gt;previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Additionally it's running 3 lua scripts that deal with different aspects.&lt;/p&gt;
&lt;p&gt;There's init.lua which makes sure we're connected to a WiFi.&lt;/p&gt;
&lt;p&gt;udp_listener.lua receives UDP packets and then sends forwards that â€¦&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Robert Foss</dc:creator><pubDate>Sun, 07 Feb 2016 22:46:00 +0100</pubDate><guid isPermaLink="false">tag:memcpy.io,2016-02-07:/esp8266-apa102-bulb.html</guid><category>ESP8266</category><category>ESP8266</category><category>APA102</category><category>LED</category><category>WIFI</category></item></channel></rss>